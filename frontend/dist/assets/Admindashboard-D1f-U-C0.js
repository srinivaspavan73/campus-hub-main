import{R as ne,r as u,u as ce,j as e}from"./index-oRpEOpm0.js";import{a as ie}from"./adminAtom-DU_baGDi.js";import{a as v}from"./axios-upsvKRUO.js";import{c as p,E as X}from"./eye-w8KR_Q3p.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=p("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=p("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=p("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=p("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=p("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=p("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=p("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=p("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=p("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=p("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=p("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=p("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ae(){var H,P;const[t,c]=ne(ie),[n,d]=u.useState([]),[o,h]=u.useState([]),[i,m]=u.useState(null),[r,a]=u.useState(!0),[x,g]=u.useState(!1),[y,S]=u.useState("dashboard"),[A,k]=u.useState(!1),[L,M]=u.useState(!1),R=ce(),[D,$]=u.useState({title:"",description:"",date:"",time:"",location:"",capacity:0,price:0}),[q,T]=u.useState(""),[U,_]=u.useState({show:!1,message:"",type:""});u.useEffect(()=>{localStorage.getItem("token")&&(v.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("token")}`)},[t]),u.useEffect(()=>{localStorage.getItem("token")||R("/")},[R]),u.useEffect(()=>{Q(),W()},[]);const Q=async()=>{try{const s=await v.get("https://campushub-api.vercel.app/admin/profile");s.data.success&&c(l=>({...l,...s.data.admin}))}catch(s){console.log(s),w("Failed to load profile")}},W=async()=>{a(!0);try{const s=await v.get("https://campushub-api.vercel.app/admin/events");s.data.success&&d(s.data.events)}catch(s){console.log(s),w("Failed to load events")}finally{a(!1)}},B=async s=>{a(!0);try{const l=await v.get(`https://campushub-api.vercel.app/admin/event/${s}/registrations`);l.data.success&&(h(l.data.registrations),m(n.find(b=>b._id===s)),S("registrations"))}catch(l){console.log(l),w("Failed to load registrations")}finally{a(!1)}},Y=async s=>{s.preventDefault(),a(!0);try{const l=await v.post("https://campushub-api.vercel.app/admin/create-event",D);l.data.success&&(d([...n,l.data.event]),k(!1),te(),f("Event created successfully","success"))}catch(l){console.log(l),w("Failed to create event")}finally{a(!1)}},Z=async s=>{s.preventDefault(),a(!0);try{const l=await v.put(`https://campushub-api.vercel.app/admin/edit-event/${i._id}`,D);l.data.success&&(d(n.map(b=>b._id===i._id?l.data.event:b)),M(!1),m(null),f(`Event "${l.data.event.title}" updated successfully`,"success"))}catch(l){console.log(l),w("Failed to update event")}finally{a(!1)}},ee=async s=>{if(confirm("Are you sure you want to delete this event?")){a(!0);try{(await v.delete(`https://campushub-api.vercel.app/admin/delete-event/${s}`)).data.success&&(d(n.filter(b=>b._id!==s)),f("Event deleted successfully","success"))}catch(l){console.log(l),w("Failed to delete event")}finally{a(!1)}}},f=(s,l="success")=>{_({show:!0,message:s,type:l}),setTimeout(()=>_({show:!1,message:"",type:""}),5e3)},w=s=>{T(s),console.error(s),f(s,"error"),setTimeout(()=>T(""),5e3)},te=()=>{$({title:"",description:"",date:"",time:"",location:"",capacity:0,price:0})},se=s=>{var l;m(s),$({title:s.title,description:s.description,date:s.date.split("T")[0],time:s.time||"",location:s.location,capacity:((l=s.attendees)==null?void 0:l.length)||0,price:s.price||0}),M(!0)},E=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ae=()=>{if(n.length===0){f("No events to export!","warning");return}const s=["Event Name,Description,Date,Attendees"],l=n.map(j=>{var z;return`"${j.title}","${j.description}","${E(j.date)}","${((z=j.attendees)==null?void 0:z.length)||0}"`}),b=[s,...l].join(`
`),V=new Blob([b],{type:"text/csv"}),C=URL.createObjectURL(V),N=document.createElement("a");N.href=C,N.download="events.csv",N.click(),URL.revokeObjectURL(C),f("Events exported successfully","success")},re=()=>{if(o.length===0){f("No registrations to export!","warning");return}const s=["Name,Email,Registered Date"],l=o.map(j=>{var z,I;return`"${((z=j.user)==null?void 0:z.email.split("@")[0])||"N/A"}","${((I=j.user)==null?void 0:I.email)||"N/A"}","${E(j.createdAt)}"`}),b=[s,...l].join(`
`),V=new Blob([b],{type:"text/csv"}),C=URL.createObjectURL(V),N=document.createElement("a");N.href=C,N.download=`registrations_${i.title.replace(/\s+/g,"_")}.csv`,N.click(),URL.revokeObjectURL(C),f("Registrations exported successfully","success")},le=()=>{c(null),localStorage.clear(),R("/"),v.defaults.headers.common.Authorization="",f("Logged out successfully","success")};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(ye,{sidebarCollapsed:x,setSidebarCollapsed:g,activeTab:y,setActiveTab:S,handleLogout:le,setSelectedEvent:m,setIsCreatingEvent:k,setIsEditingEvent:M}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center",children:[y==="registrations"&&e.jsx("button",{onClick:()=>S("events"),className:"mr-3 text-gray-500 hover:text-gray-700 p-1",children:e.jsx(oe,{size:20})}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:[y==="dashboard"&&"Dashboard",y==="events"&&(A?"Create Event":L?"Edit Event":"Events"),y==="registrations"&&`Registrations - ${i==null?void 0:i.title}`]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold",children:((H=t==null?void 0:t.username)==null?void 0:H.charAt(0).toUpperCase())||"A"}),!x&&e.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.username)||((P=t==null?void 0:t.email)==null?void 0:P.split("@")[0])||"Admin"})]})})]}),q&&e.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 m-6 rounded flex items-start",children:[e.jsx(K,{size:20,className:"mr-2 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:q}),e.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>T(""),children:"Ã—"})]}),U.show&&e.jsx(ke,{message:U.message,type:U.type,onClose:()=>_({show:!1,message:"",type:""})}),e.jsx("main",{className:"p-6",children:r?e.jsx(we,{}):e.jsxs(e.Fragment,{children:[y==="dashboard"&&e.jsx(fe,{events:n,formatDate:E,exportToCSV:ae,setActiveTab:S,fetchEventRegistrations:B,setIsCreatingEvent:k}),y==="events"&&!A&&!L&&e.jsx(je,{events:n,setIsCreatingEvent:k,fetchEventRegistrations:B,startEditEvent:se,handleDeleteEvent:ee,formatDate:E}),y==="events"&&(A||L)&&e.jsx(Ne,{eventForm:D,setEventForm:$,isCreatingEvent:A,setIsCreatingEvent:k,isEditingEvent:L,setIsEditingEvent:M,handleCreateEvent:Y,handleUpdateEvent:Z,setSelectedEvent:m}),y==="registrations"&&i&&e.jsx(ve,{selectedEvent:i,registrations:o,formatDate:E,exportRegistrationsToCSV:re})]})})]})]})}function ye({sidebarCollapsed:t,setSidebarCollapsed:c,activeTab:n,setActiveTab:d,handleLogout:o,setSelectedEvent:h,setIsCreatingEvent:i,setIsEditingEvent:m}){const r=({icon:a,label:x,tabName:g})=>e.jsxs("div",{className:`flex items-center px-4 py-3 rounded-lg transition-colors ${n===g?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"} cursor-pointer`,onClick:()=>{d(g),g==="events"&&(h(null),i(!1),m(!1))},children:[a,!t&&e.jsx("span",{className:"ml-3",children:x})]});return e.jsxs("div",{className:`bg-white shadow-md transition-all duration-300 flex flex-col ${t?"w-20":"w-64"}`,children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b",children:[!t&&e.jsx("h2",{className:"text-xl font-bold text-blue-600",children:"CampusHub"}),e.jsx("button",{onClick:()=>c(!t),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":t?"Expand sidebar":"Collapse sidebar",children:e.jsx(me,{size:20})})]}),e.jsxs("div",{className:"py-4 px-3 space-y-1 flex-1",children:[e.jsx(r,{icon:e.jsx(G,{size:20}),label:"Dashboard",tabName:"dashboard"}),e.jsx(r,{icon:e.jsx(F,{size:20}),label:"Events",tabName:"events"})]}),e.jsx("div",{className:"border-t p-3",children:e.jsxs("div",{className:"flex items-center px-4 py-3 text-red-500 hover:bg-red-50 rounded-lg cursor-pointer transition-colors",onClick:o,children:[e.jsx(xe,{size:20}),!t&&e.jsx("span",{className:"ml-3",children:"Logout"})]})})]})}function fe({events:t,formatDate:c,exportToCSV:n,setActiveTab:d,fetchEventRegistrations:o,setIsCreatingEvent:h}){const i=({label:r,value:a,icon:x,color:g})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 transition-all hover:shadow-md",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:r}),e.jsx("h3",{className:"text-3xl font-bold mt-1",children:a})]}),e.jsx("div",{className:`p-3 ${g} rounded-full`,children:x})]})}),m=({onClick:r,icon:a,color:x,title:g})=>e.jsx("button",{onClick:r,className:`p-1.5 ${x} rounded-full hover:bg-opacity-20 transition-colors`,title:g,children:a});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx(i,{label:"Total Events",value:t.length,icon:e.jsx(F,{size:24,className:"text-blue-600"}),color:"bg-blue-100"}),e.jsx(i,{label:"Total Attendees",value:t.reduce((r,a)=>{var x;return r+(((x=a.attendees)==null?void 0:x.length)||0)},0),icon:e.jsx(ge,{size:24,className:"text-green-600"}),color:"bg-green-100"}),e.jsx(i,{label:"Upcoming Events",value:t.filter(r=>new Date(r.date)>new Date).length,icon:e.jsx(G,{size:24,className:"text-purple-600"}),color:"bg-purple-100"})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm h-full",children:[e.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Recent Events"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-700 rounded-lg shadow-md hover:from-green-600 hover:to-green-800 transform hover:scale-105 transition-all",children:[e.jsx(J,{size:16}),"Export CSV"]}),e.jsx("button",{onClick:()=>d("events"),className:"text-blue-500 text-sm hover:underline",children:"View All"})]})]}),e.jsx("div",{className:"p-5 overflow-x-auto",children:t.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[e.jsx("th",{className:"pb-3 px-5",children:"Event"}),e.jsx("th",{className:"pb-3 px-5",children:"Description"}),e.jsx("th",{className:"pb-3 px-5",children:"Date & Time"}),e.jsx("th",{className:"pb-3 px-5",children:"Location"}),e.jsx("th",{className:"pb-3 px-5 text-center",children:"Attendees"}),e.jsx("th",{className:"pb-3 px-5 w-20 text-center",children:"View"})]})}),e.jsx("tbody",{children:t.map(r=>{var a;return e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-5 py-3 font-semibold text-gray-800 whitespace-nowrap",children:r.title}),e.jsx("td",{className:"px-5 py-3 text-gray-600 truncate max-w-xs",children:r.description}),e.jsxs("td",{className:"px-5 py-3 text-gray-700",children:[c(r.date),e.jsx("br",{}),e.jsx("span",{className:"text-sm text-gray-500",children:r.time})]}),e.jsx("td",{className:"px-5 py-3 text-gray-700",children:r.location}),e.jsx("td",{className:"px-5 py-3 text-gray-700 text-center",children:((a=r.attendees)==null?void 0:a.length)||0}),e.jsx("td",{className:"px-5 py-3 text-center",children:e.jsx(m,{onClick:()=>o(r._id),icon:e.jsx(X,{size:18}),color:"text-blue-500 hover:text-blue-700 transition",title:"View Registrations"})})]},r._id)})})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No events found.",e.jsx("button",{className:"text-blue-500 hover:underline ml-2",onClick:()=>{d("events"),h(!0)},children:"Create your first event?"})]})})]})})})]})}function je({events:t,setIsCreatingEvent:c,fetchEventRegistrations:n,startEditEvent:d,handleDeleteEvent:o,formatDate:h}){const i=({event:r,actions:a})=>{var x;return e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 pl-4 font-medium",children:r.title}),e.jsx("td",{className:"py-4",children:h(r.date)}),e.jsx("td",{className:"py-4",children:r.location}),e.jsx("td",{className:"py-4",children:((x=r.attendees)==null?void 0:x.length)||0}),e.jsx("td",{className:"py-4 space-x-2 flex",children:a})]})},m=({onClick:r,icon:a,color:x,title:g})=>e.jsx("button",{onClick:r,className:`p-1.5 ${x} rounded-full hover:bg-opacity-20 transition-colors`,title:g,children:a});return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Manage Events"}),e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(ue,{size:18,className:"mr-1"})," Create New Event"]})]}),e.jsx("div",{className:"overflow-x-auto",children:t.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[e.jsx("th",{className:"pb-3 pl-4",children:"Event Name"}),e.jsx("th",{className:"pb-3",children:"Date"}),e.jsx("th",{className:"pb-3",children:"Location"}),e.jsx("th",{className:"pb-3",children:"Attendees"}),e.jsx("th",{className:"pb-3",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(r=>e.jsx(i,{event:r,actions:e.jsxs(e.Fragment,{children:[e.jsx(m,{onClick:()=>n(r._id),icon:e.jsx(X,{size:18}),color:"text-blue-500",title:"View Registrations"}),e.jsx(m,{onClick:()=>d(r),icon:e.jsx(he,{size:18}),color:"text-green-500",title:"Edit Event"}),e.jsx(m,{onClick:()=>o(r._id),icon:e.jsx(pe,{size:18}),color:"text-red-500",title:"Delete Event"})]})},r._id))})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No events found. Create your first event by clicking the button above."})})]})}function ve({selectedEvent:t,registrations:c,formatDate:n,exportRegistrationsToCSV:d}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t.title}),e.jsxs("p",{className:"text-gray-500",children:[n(t.date)," | ",t.location]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-green-600 text-white rounded-full shadow-md hover:bg-green-700 hover:shadow-lg transition duration-300",children:[e.jsx(J,{size:16})," Export CSV"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:c.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[e.jsx("th",{className:"pb-3 pl-4",children:"Name"}),e.jsx("th",{className:"pb-3",children:"Email"}),e.jsx("th",{className:"pb-3",children:"Registered Date"})]})}),e.jsx("tbody",{children:c.map(o=>{var h,i;return e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 pl-4",children:((h=o.user)==null?void 0:h.email.split("@")[0])||"N/A"}),e.jsx("td",{className:"py-4",children:((i=o.user)==null?void 0:i.email)||"N/A"}),e.jsx("td",{className:"py-4",children:n(o.createdAt)})]},o._id)})})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No registrations found for this event."})})]})})}function Ne({eventForm:t,setEventForm:c,isCreatingEvent:n,setIsCreatingEvent:d,isEditingEvent:o,setIsEditingEvent:h,handleCreateEvent:i,handleUpdateEvent:m,setSelectedEvent:r}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("form",{onSubmit:n?i:m,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:t.title,onChange:a=>c({...t,title:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event title"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{id:"description",name:"description",required:!0,value:t.description,onChange:a=>c({...t,description:a.target.value}),rows:"4",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event description"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),e.jsx("input",{type:"date",id:"date",name:"date",required:!0,value:t.date,onChange:a=>c({...t,date:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),e.jsx("input",{type:"time",id:"time",name:"time",required:!0,value:t.time,onChange:a=>c({...t,time:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),e.jsx("input",{type:"text",id:"location",name:"location",required:!0,value:t.location,onChange:a=>c({...t,location:a.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event location"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity *"}),e.jsx("input",{type:"number",id:"capacity",name:"capacity",required:!0,min:"1",value:t.capacity,onChange:a=>c({...t,capacity:parseInt(a.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Maximum number of attendees"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),e.jsx("input",{type:"number",id:"price",name:"price",min:"0",step:"0.01",value:t.price,onChange:a=>c({...t,price:parseFloat(a.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event price (0 for free events)"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",onClick:()=>{n&&d(!1),o&&(h(!1),r(null))},children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:n?"Create Event":"Update Event"})]})]})})}function we(){return e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]})}function ke({message:t,type:c="success",onClose:n}){u.useEffect(()=>{const h=setTimeout(()=>{n()},5e3);return()=>clearTimeout(h)},[n]);const d=()=>{switch(c){case"success":return e.jsx(O,{size:20,className:"text-green-500"});case"warning":return e.jsx(K,{size:20,className:"text-yellow-500"});case"error":return e.jsx(de,{size:20,className:"text-red-500"});default:return e.jsx(O,{size:20,className:"text-green-500"})}},o=()=>{switch(c){case"success":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200";default:return"bg-green-50 border-green-200"}};return e.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-md border ${o()} animate-slideIn`,children:[e.jsxs("div",{className:"flex items-center",children:[d(),e.jsx("div",{className:"ml-3 mr-6",children:e.jsx("p",{className:"text-sm font-medium text-gray-800",children:t})})]}),e.jsx("button",{onClick:n,className:"ml-auto text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Close",children:e.jsx(be,{size:16})})]})}export{fe as DashboardView,Ne as EventForm,je as EventsView,we as LoadingSpinner,ve as RegistrationsView,ye as Sidebar,ke as Toast,Ae as default};
